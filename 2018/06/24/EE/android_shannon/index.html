<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>【Android】香农APP - Cornfield Chase</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#B481BB"><meta name="application-name" content="Hugsy&#039;s Blog"><meta name="msapplication-TileImage" content="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/favicon.svg"><meta name="msapplication-TileColor" content="#B481BB"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hugsy&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="144x144" href="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/favicon.svg"><meta name="description" content="一款可译用来统计信息熵，进行二元香农、诺顿、哈夫曼编码，以及判断分组码是否唯一可译的Android APP。"><meta property="og:type" content="blog"><meta property="og:title" content="【Android】香农APP"><meta property="og:url" content="https://hugsy.top/2018/06/24/EE/android_shannon/"><meta property="og:site_name" content="Cornfield Chase"><meta property="og:description" content="一款可译用来统计信息熵，进行二元香农、诺顿、哈夫曼编码，以及判断分组码是否唯一可译的Android APP。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112309.png"><meta property="article:published_time" content="2018-06-23T16:00:00.000Z"><meta property="article:modified_time" content="2022-12-10T10:00:23.658Z"><meta property="article:author" content="Hugsy"><meta property="article:tag" content="EE"><meta property="article:tag" content="Android"><meta property="article:tag" content="Java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112309.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hugsy.top/2018/06/24/EE/android_shannon/"},"headline":"【Android】香农APP","image":["https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112309.png"],"datePublished":"2018-06-23T16:00:00.000Z","dateModified":"2022-12-10T10:00:23.658Z","author":{"@type":"Person","name":"Hugsy"},"description":"一款可译用来统计信息熵，进行二元香农、诺顿、哈夫曼编码，以及判断分组码是否唯一可译的Android APP。"}</script><link rel="canonical" href="https://hugsy.top/2018/06/24/EE/android_shannon/"><link rel="alternate" href="/atom.xml" title="Cornfield Chase" type="application/atom+xml"><link rel="icon" href="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?7b65ce26b5ae8dae153d7b4d53214ba4";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.2"></head><body class="is-1-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/logo.svg" alt="Cornfield Chase" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/tags/CS/">CS</a><a class="navbar-item" href="/tags/EE/">EE</a><a class="navbar-item" href="/tags/ML/">ML</a><a class="navbar-item" href="/tags/ME/">ME</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-12"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112309.png" alt="【Android】香农APP"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-23T16:00:00.000Z" title="6/24/2018, 12:00:00 AM">2018-06-24</time>发表</span><span class="level-item"><time dateTime="2022-12-10T10:00:23.658Z" title="12/10/2022, 6:00:23 PM">2022-12-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">项目笔记</a></span><span class="level-item">21 分钟读完 (大约3153个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">【Android】香农APP</h1><div class="content"><p>一款可译用来统计信息熵，进行二元香农、诺顿、哈夫曼编码，以及判断分组码是否唯一可译的Android APP。</p>
<span id="more"></span>

<h2 id="统计信息熵"><a href="#统计信息熵" class="headerlink" title="统计信息熵"></a>统计信息熵</h2><p>信息指的是各个事物运动的状态及状态变化的方式，它是<strong>使认识主体对某一事物的未知性或不确定性减少的有用知识</strong>。其基本概念就在于它的不确定性，任何已确定的事物都不含有信息。</p>
<p>在<strong>香农（C.E.Shannon）</strong>提出的狭义信息论中，给出了一种信息量的度量方式，即**信息熵(Information Entropy)**。在热力学中，“熵”是用来表示分子状态混乱程度的物理量。香农把这个词借用过来，用于描述信源的不确定度。</p>
<p>某个信源发出的符号通常可以根据各种符号出现的概率来度量。根据信息的定义，概率大，出现的机会多，不确定性小，也就是包含的信息量小；概率小，出现的机会少，不确定性大，包含的信息量反而更多。由此入手，对符号的出现概率取倒数，这样得到的值就符合这个特性了。为了将这个值约束在一定范围内，不至于过大或过小，进一步对这个值取对数，这样就得到了某个概率为$p$的符号$x$的<strong>自信息量</strong>,具体公式为：$$ I(x_i) = - \log p(x_i) $$<br>对于包含多个符号的信息，其信息熵就取它们的平均信息量，即：$$ H(X) = -\sum_{i} p(x_i) \log p(x_i) $$</p>
<p>APP中，使用Java语言编写的统计信息熵程序如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 符号数量统计与熵计算</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> top.binweber.shannon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EntropyCalculate</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character,Integer&gt; amountMap;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character,Double&gt; probabilityMap;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EntropyCalculate</span><span class="params">()</span> &#123;  <span class="comment">// 初始化</span></span><br><span class="line">        count = <span class="number">0</span>;  <span class="comment">// 总符号数</span></span><br><span class="line">        amountMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();  <span class="comment">// 各符号数量Map</span></span><br><span class="line">        probabilityMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();  <span class="comment">// 各符号概率Map</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character,Integer&gt; <span class="title function_">amountCal</span><span class="params">(String textStr)</span> &#123;  <span class="comment">// 数量统计</span></span><br><span class="line">        <span class="type">char</span>[] chars = textStr.toCharArray();  <span class="comment">// String转换为Char</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) &#123;  <span class="comment">// 遍历，统计</span></span><br><span class="line">            <span class="keyword">if</span>(!(chars[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; chars[i] &lt;= <span class="string">&#x27;z&#x27;</span> || chars[i] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; chars[i] &lt;= <span class="string">&#x27;Z&#x27;</span>))  <span class="comment">// 判断符号范围</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            count ++;  <span class="comment">// 总数统计</span></span><br><span class="line">            <span class="type">Integer</span> <span class="variable">amount</span> <span class="operator">=</span> amountMap.get(chars[i]);  <span class="comment">// 获取符号的当前数量</span></span><br><span class="line">            <span class="keyword">if</span> (amount != <span class="literal">null</span>)  <span class="comment">// 当前数量不为null</span></span><br><span class="line">                amount ++;</span><br><span class="line">            <span class="keyword">else</span>                <span class="comment">//  当前数量为null</span></span><br><span class="line">                amount = <span class="number">1</span>;</span><br><span class="line">            amountMap.put(chars[i], amount);  <span class="comment">// 存入Map中</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> amountMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character,Double&gt; <span class="title function_">probabilityCal</span><span class="params">()</span> &#123;  <span class="comment">// 概率计算</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">pro</span> <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">// 概率</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character, Integer&gt; entry : amountMap.entrySet()) &#123;  <span class="comment">// 遍历，统计</span></span><br><span class="line">            pro = (<span class="type">double</span>) entry.getValue() / count;  <span class="comment">// 计算概率</span></span><br><span class="line">            <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(pro);</span><br><span class="line">            pro = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();  <span class="comment">// 保留3位小数</span></span><br><span class="line">            probabilityMap.put(entry.getKey(), pro);  <span class="comment">// 存入Map中</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> probabilityMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">entropyCal</span><span class="params">()</span> &#123;  <span class="comment">// 符号熵计算</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">entropy</span> <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">// 符号熵</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Double  p : probabilityMap.values()) &#123;  <span class="comment">// 遍历</span></span><br><span class="line">            entropy += -(p * Math.log(p) / Math.log(<span class="number">2</span>));  <span class="comment">// 符号熵计算</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(entropy);</span><br><span class="line">        entropy = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();  <span class="comment">// 保留3位小数</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> entropy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">entropyCal</span><span class="params">(Map&lt;Character,Double&gt; probMap)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">entropy</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Double  p : probMap.values()) &#123;</span><br><span class="line">            entropy += -(p * Math.log(p) / Math.log(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(entropy);</span><br><span class="line">        entropy = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();  <span class="comment">// 保留3位小数</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> entropy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="香农编码"><a href="#香农编码" class="headerlink" title="香农编码"></a>香农编码</h2><p>APP中，使用Java语言编写的香农编码过程如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.binweber.shannon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShannonEncode</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character,Integer&gt; cLengthMap;  <span class="comment">// 码长Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character, String&gt; codonMap;  <span class="comment">// 码字Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; probArrayList; <span class="comment">//概率值List</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> probs;  <span class="comment">// 累加概率</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> aCLength; <span class="comment">// 平均码长</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ShannonEncode</span><span class="params">(Map&lt;Character,Double&gt; probMap)</span> &#123;  <span class="comment">// 初始化</span></span><br><span class="line">        probs = <span class="number">0.0</span>;</span><br><span class="line">        aCLength = <span class="number">0.0</span>;</span><br><span class="line">        cLengthMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        codonMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        probArrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(probMap.entrySet());  <span class="comment">// 按概率从大到小排序</span></span><br><span class="line">        Collections.sort(probArrayList,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map.Entry&lt;Character,Double&gt;&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry&lt;Character,Double&gt; o1, Map.Entry&lt;Character,Double&gt; o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o2.getValue().compareTo(o1.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, String&gt; <span class="title function_">toShannon</span><span class="params">()</span> &#123;  <span class="comment">// 实现编码</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">prob</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cLength</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character,Double&gt; entry:probArrayList) &#123; <span class="comment">// 由概率Map循环</span></span><br><span class="line">            prob = entry.getValue(); <span class="comment">// 取出一个概率值</span></span><br><span class="line">            cLength = (<span class="type">int</span>) Math.ceil(Math.log(<span class="number">1</span>/prob)/Math.log((<span class="type">double</span>)<span class="number">2</span>));  <span class="comment">// 计算码长，Math.ceil()-向上取整</span></span><br><span class="line">            cLengthMap.put(entry.getKey(), cLength);  <span class="comment">// 将算得的码长打包到Map</span></span><br><span class="line">            codonMap.put(entry.getKey(), colonCal(probs, cLength));  <span class="comment">// 调用下面写好的colonCal方法，算得码字，打包到Map</span></span><br><span class="line">            aCLength += prob * cLength;  <span class="comment">// 计算平均码长</span></span><br><span class="line">            probs += prob;  <span class="comment">// 概率值累加</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> codonMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">colonCal</span><span class="params">(<span class="type">double</span> probs, <span class="type">int</span> nLength)</span> &#123;  <span class="comment">// 将累加概率转换为二进制（码字）</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">coden</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nLength; i++) &#123;</span><br><span class="line">            probs *= <span class="number">2</span>;  <span class="comment">// 累加概率乘以2</span></span><br><span class="line">            <span class="keyword">if</span>(probs &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">                probs -= <span class="number">1</span>;</span><br><span class="line">                coden += <span class="number">1</span>; <span class="comment">// 大于1则取1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                coden += <span class="number">0</span>; <span class="comment">//小于1则取0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> coden;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, Integer&gt; <span class="title function_">getCLengthMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cLengthMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; getProbArrayList() &#123;</span><br><span class="line">        <span class="keyword">return</span>  probArrayList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getACLength</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(aCLength);</span><br><span class="line">        aCLength = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();</span><br><span class="line">        <span class="keyword">return</span> aCLength;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="费诺编码"><a href="#费诺编码" class="headerlink" title="费诺编码"></a>费诺编码</h2><p>APP中，使用Java语言编写的费诺编码过程如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.binweber.shannon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoEncode</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character,Integer&gt; cLengthMap;  <span class="comment">// 码长Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character, String&gt; codonMap;  <span class="comment">// 码字Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; probArrayList;  <span class="comment">// 概率List</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> aCLength;  <span class="comment">// 平均码长</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FanoEncode</span><span class="params">(Map&lt;Character,Double&gt; probMap)</span> &#123;  <span class="comment">// 初始化</span></span><br><span class="line">        aCLength = <span class="number">0.0</span>;</span><br><span class="line">        cLengthMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        codonMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        probArrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(probMap.entrySet());  <span class="comment">// 将概率Map按概率值递减排列放到概率List</span></span><br><span class="line">        Collections.sort(probArrayList,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map.Entry&lt;Character,Double&gt;&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry&lt;Character,Double&gt; o1, Map.Entry&lt;Character,Double&gt; o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o2.getValue().compareTo(o1.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, String&gt; <span class="title function_">toFano</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">double</span>[] pros = <span class="keyword">new</span> <span class="title class_">double</span>[probArrayList.size()];  <span class="comment">// 概率值数组</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character,Double&gt; entry:probArrayList) &#123;</span><br><span class="line">            pros[i] = entry.getValue();  <span class="comment">// 从概率List中取出概率值放入数组</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String[] codon = getGroup(pros, <span class="number">0</span>, pros.length - <span class="number">1</span>);  <span class="comment">// 调用方法，得到编码</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character,Double&gt; entry:probArrayList) &#123;</span><br><span class="line">            codonMap.put(entry.getKey(), codon[j]);  <span class="comment">// 将各码字放进codonMap</span></span><br><span class="line">            cLengthMap.put(entry.getKey(), codon[j].length());  <span class="comment">// 将各长放进cLengthMap</span></span><br><span class="line">            aCLength += pros[j] * codon[j].length();  <span class="comment">// 计算平均码长</span></span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> codonMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] getGroup(<span class="type">double</span>[] pros, <span class="type">int</span> i, <span class="type">int</span> j) &#123;  <span class="comment">// 输入概率值数组，得到其中索引为i到j编码结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">// 分组点索引</span></span><br><span class="line">        String[] codens = <span class="keyword">new</span> <span class="title class_">String</span>[pros.length];  <span class="comment">// 存储编码结果</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; pros.length; k++) &#123;</span><br><span class="line">            codens[k] = <span class="string">&quot;&quot;</span>;  <span class="comment">// 编码结果初始化</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i &lt; j) &#123;  <span class="comment">// 索引i小于索引</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">2</span>; <span class="comment">// 用以比较的中间量（初始值随便取一个大于1的即可）</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;  <span class="comment">// 循环找到中位值的索引</span></span><br><span class="line">                <span class="keyword">if</span>(Math.abs(sumGroup(pros,i,k) - sumGroup(pros, k+<span class="number">1</span>, j)) &lt; sum) &#123; <span class="comment">// 如过两部分累加和之差小于中间量</span></span><br><span class="line">                    sum = Math.abs(sumGroup(pros, i, k) - sumGroup(pros, k+<span class="number">1</span>, j));  <span class="comment">// 将两部分累加和之差作为中间量</span></span><br><span class="line">                    middle = k;  <span class="comment">// 更新分组点的索引</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            String[] codens_1 = getGroup(pros, i, middle);  <span class="comment">// 递归获得前半部分编码</span></span><br><span class="line">            String[] codens_2 = getGroup(pros, middle+<span class="number">1</span>, j);  <span class="comment">// 递归获得后半部分编码</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= middle; k++) &#123;  <span class="comment">// 对前半部分编码</span></span><br><span class="line">                codens[k] = <span class="string">&quot;0&quot;</span> + codens_1[k];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> middle + <span class="number">1</span>; k &lt;= j ; k++) &#123;  <span class="comment">// 对后半部分编码</span></span><br><span class="line">                codens[k] = <span class="string">&quot;1&quot;</span> + codens_2[k];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> codens;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="title function_">sumGroup</span><span class="params">(<span class="type">double</span>[] pros,<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;  <span class="comment">// 累加概率数组索引i到j的值</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;</span><br><span class="line">            sum += pros[k];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, Integer&gt; <span class="title function_">getCLengthMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cLengthMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; getProbArrayList() &#123;</span><br><span class="line">        <span class="keyword">return</span>  probArrayList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getACLength</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(aCLength);</span><br><span class="line">        aCLength = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();</span><br><span class="line">        <span class="keyword">return</span> aCLength;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="哈夫曼编码"><a href="#哈夫曼编码" class="headerlink" title="哈夫曼编码"></a>哈夫曼编码</h2><p>APP中，使用Java语言编写的哈夫曼编码过程如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.binweber.shannon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;  <span class="comment">// 树节点类</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> prob;  <span class="comment">// 结点概率值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">codeword</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;  <span class="comment">// 码字</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode left;  <span class="comment">// 左子节点</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode right;  <span class="comment">// 右子节点</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TreeNode</span><span class="params">(<span class="type">double</span> data)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.prob = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuffmanEncode</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character, Integer&gt; cLengthMap;  <span class="comment">// 码长Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Character, String&gt; codonMap;  <span class="comment">// 码字Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; probArrayList;  <span class="comment">// 概率List</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> aCLength;  <span class="comment">// 平均码长</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; codonList;  <span class="comment">// 码字List</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HuffmanEncode</span><span class="params">(Map&lt;Character, Double&gt; probMap)</span> &#123;  <span class="comment">// 初始化</span></span><br><span class="line">        aCLength = <span class="number">0.0</span>;</span><br><span class="line">        cLengthMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        codonMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        codonList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        probArrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(probMap.entrySet());  <span class="comment">// 将概率Map按概率值递减排列放到概率List</span></span><br><span class="line">        Collections.sort(probArrayList, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map.Entry&lt;Character, Double&gt;&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry&lt;Character, Double&gt; o1, Map.Entry&lt;Character, Double&gt; o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o2.getValue().compareTo(o1.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, String&gt; <span class="title function_">toHuffman</span><span class="params">()</span> &#123;  <span class="comment">// 进行编码</span></span><br><span class="line">        List&lt;TreeNode&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  <span class="comment">// 用于存放节点的List</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character,Double&gt; entry:probArrayList) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">prob</span> <span class="operator">=</span> entry.getValue();  <span class="comment">// 取出概率值</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(prob);  <span class="comment">// 创建新节点</span></span><br><span class="line">            list.add(i, root); <span class="comment">// 将新节点加入list</span></span><br><span class="line">            i ++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        createTree(list);  <span class="comment">// 由list中的节点创建哈夫曼树</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> (TreeNode)list.get(<span class="number">0</span>);  <span class="comment">// 得到根节点</span></span><br><span class="line">        list.clear();  <span class="comment">// 清空list</span></span><br><span class="line">        printTree(root);  <span class="comment">// 获得编码结果</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Character,Double&gt; entry:probArrayList) &#123;</span><br><span class="line">            codonMap.put(entry.getKey(), codonList.get(j));</span><br><span class="line">            cLengthMap.put(entry.getKey(), codonList.get(j).length());</span><br><span class="line">            aCLength += entry.getValue() * codonList.get(j).length();</span><br><span class="line">            j ++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> codonMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createTree</span><span class="params">(List&lt;TreeNode&gt; list)</span>&#123;  <span class="comment">// 创建一棵哈夫曼树</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">prob1</span> <span class="operator">=</span> (list.get(list.size() - <span class="number">1</span>)).prob;  <span class="comment">// 取出倒数第一个节点的概率</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">prob2</span> <span class="operator">=</span> (list.get(list.size() - <span class="number">2</span>)).prob;  <span class="comment">// 取出倒数第二个节点的概率</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">prob_sum</span> <span class="operator">=</span> prob1 + prob2;  <span class="comment">// 两个最小的概率值相加</span></span><br><span class="line"></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(prob_sum);  <span class="comment">// 用相加的概率创建一个新节点</span></span><br><span class="line"></span><br><span class="line">        root.left = (list.get(list.size() - <span class="number">1</span>));  <span class="comment">// 将倒数第一个作为左子节点</span></span><br><span class="line">        root.right = (list.get(list.size() - <span class="number">2</span>));  <span class="comment">// 将倒数第二个作为右子节点</span></span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);  <span class="comment">// 已经list中加上树上的节点删除</span></span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        sortList(list, root);  <span class="comment">// 将新的节点加到list里，并排序</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(list.size() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">            createTree(list);  <span class="comment">// 只要list里面还有节点，就递归创建树</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sortList</span><span class="params">(List&lt;TreeNode&gt; list,TreeNode root)</span>&#123;  <span class="comment">// 将某个节点插入list，排序</span></span><br><span class="line">        <span class="keyword">if</span>(list.size() == <span class="number">0</span>)&#123;</span><br><span class="line">            list.add(root);  <span class="comment">// list为空时直接插入</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> i;</span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; list.size(); i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(list.get(i).prob &lt;= root.prob)&#123;  <span class="comment">// 循环比较大小</span></span><br><span class="line">                    list.add(i, root);  <span class="comment">// 插入</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i == list.size()) &#123;  <span class="comment">// 到最后，直接插入</span></span><br><span class="line">                list.add(i, root);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">printTree</span><span class="params">(TreeNode root)</span>&#123;  <span class="comment">// 使用广度优先查找算法，层次遍历哈夫曼树各节点</span></span><br><span class="line"></span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();  <span class="comment">// 节点队列</span></span><br><span class="line"></span><br><span class="line">        queue.offer(root);  <span class="comment">// 将根节点入队</span></span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;  <span class="comment">// 队列非空，不断执行</span></span><br><span class="line"></span><br><span class="line">            root = queue.poll();  <span class="comment">// 将一个节点出队</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  <span class="comment">// 该节点的左子节点非空</span></span><br><span class="line">                root.left.codeword = root.codeword + <span class="string">&quot;0&quot;</span>;  <span class="comment">// 左子节点码字加0</span></span><br><span class="line">                queue.offer((root.left));  <span class="comment">// 左子节点入队</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  <span class="comment">// 该节点的右子节点非空</span></span><br><span class="line">                root.right.codeword = root.codeword + <span class="string">&quot;1&quot;</span>;  <span class="comment">// 右子节点码字加1</span></span><br><span class="line">                queue.offer((root.right));  <span class="comment">// 右子节点入队</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  <span class="comment">// 节点为叶子结点</span></span><br><span class="line">                codonList.add(root.codeword);  <span class="comment">// 将节点的码字存储起来</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Character, Integer&gt; <span class="title function_">getCLengthMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cLengthMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Map.Entry&lt;Character, Double&gt;&gt; getProbArrayList() &#123;</span><br><span class="line">        <span class="keyword">return</span>  probArrayList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getACLength</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(aCLength);</span><br><span class="line">        aCLength = bg.setScale(<span class="number">3</span>, BigDecimal.ROUND_HALF_UP).doubleValue();</span><br><span class="line">        <span class="keyword">return</span> aCLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="判断唯一可译码"><a href="#判断唯一可译码" class="headerlink" title="判断唯一可译码"></a>判断唯一可译码</h2><p>APP中，使用Java语言编写的判断可译码的程序如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.binweber.shannon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UniqueDecode</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> result;  <span class="comment">// 判断结果</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;String&gt; codonList;  <span class="comment">// 码字集</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;String&gt; suffixList;  <span class="comment">// 后缀集</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UniqueDecode</span><span class="params">(ArrayList&lt;String&gt; codonList)</span> &#123;  <span class="comment">// 初始化</span></span><br><span class="line">        result = <span class="literal">true</span>;  <span class="comment">// 默认唯一可译</span></span><br><span class="line">        <span class="built_in">this</span>.codonList = codonList;</span><br><span class="line">        suffixList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">()</span> &#123; <span class="comment">// 比较判断</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        cp: <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; codonList.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; codonList.size(); j++) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">codon1</span> <span class="operator">=</span> codonList.get(i);  <span class="comment">// 取出两个码字</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">codon2</span> <span class="operator">=</span> codonList.get(j);</span><br><span class="line"></span><br><span class="line">                suffix = compareCodon(codon1,codon2);  <span class="comment">// 获得尾随后缀</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!result) &#123;  <span class="comment">// 已判断出非唯一可译</span></span><br><span class="line">                    <span class="keyword">break</span> cp;  <span class="comment">// 跳出循环</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(suffix != <span class="literal">null</span> &amp;&amp; !suffixList.contains(suffix)) &#123;  <span class="comment">// 尾随后缀不为null，且尾随后缀集b不包含该后缀</span></span><br><span class="line">                    suffixList.add(suffix);  <span class="comment">// 收集获得的尾随后缀</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        compareList(codonList, suffixList, suffix);  <span class="comment">// 比较码字集与尾随后缀集</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title function_">getSuffixList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> suffixList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">compareCodon</span><span class="params">(String codon1, String codon2)</span> &#123;  <span class="comment">// 比较两个码字</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> <span class="literal">null</span>;  <span class="comment">// 尾随后缀初始化为null</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(codon1.equals(codon2)) &#123;  <span class="comment">//  如果有两个码字相同，奇异码</span></span><br><span class="line">            result = <span class="literal">false</span>;   <span class="comment">// 非唯一可议</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(result) &#123;</span><br><span class="line">            <span class="keyword">if</span>(codon1.startsWith(codon2))  <span class="comment">// 如果码字1以码字2作为开头</span></span><br><span class="line">                suffix = codon1.substring(codon2.length(), codon1.length());  <span class="comment">// 从码字2中取出尾随后缀</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(codon2.startsWith(codon1))  <span class="comment">// 如果码字2以码字1作为开头</span></span><br><span class="line">                suffix = codon2.substring(codon1.length(), codon2.length());  <span class="comment">// 从码字1中取出尾随后缀</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> suffix;  <span class="comment">// 返回尾随后缀</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">compareList</span><span class="params">(ArrayList&lt;String&gt; a, ArrayList&lt;String&gt; b, String suffix)</span> &#123;  <span class="comment">// 比较码字集和尾随后缀集</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;  <span class="comment">// 继续递归判断标志</span></span><br><span class="line"></span><br><span class="line">        String codon1,codon2;</span><br><span class="line"></span><br><span class="line">        cp: <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.size(); i++) &#123;  <span class="comment">// 循环</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; b.size(); j++) &#123;</span><br><span class="line">                codon1 = a.get(i);  <span class="comment">// 从a中取出一个码字1</span></span><br><span class="line">                codon2 = b.get(j);  <span class="comment">// 从b中取出一个尾随后缀</span></span><br><span class="line">                suffix = compareCodon(codon1,codon2);  <span class="comment">// 比较码字1、2，获得尾随后缀</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!result) &#123;  <span class="comment">// 已经判断出是非唯一可译</span></span><br><span class="line">                    <span class="keyword">break</span> cp;  <span class="comment">// 跳出循环</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(suffix != <span class="literal">null</span> &amp;&amp; !b.contains(suffix)) &#123;  <span class="comment">// 尾随后缀不为null，且尾随后缀集b中不包含该后缀</span></span><br><span class="line">                    b.add(suffix);  <span class="comment">// 尾随后缀加入b中</span></span><br><span class="line">                    flag = <span class="literal">true</span>;  <span class="comment">// 需要继续判断</span></span><br><span class="line">                    <span class="keyword">break</span> cp;  <span class="comment">// 跳出循环</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 当前尾随后缀为null或得到的是重复的尾随后缀则继续循环</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            compareList(a, b, suffix);  <span class="comment">// 继续递归进行判断</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="APP"><a href="#APP" class="headerlink" title="APP"></a>APP</h2><p>“香农”APP运行的部分截图如下：</p>
<p><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112400.png" alt="判断唯一可译码"></p>
<p><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112417.png" alt="编码界面"></p>
<p><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210411112442.png" alt="编码结果"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1be90qpXBI2WDjKxwX6H5fg">APP下载-网盘</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/BinWeber/Android">APP源程序-Github</a></li>
<li><a target="_blank" rel="noopener" href="http://tianchenqitan.iteye.com/blog/846179">Java实现三种信源编码-iteye</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013290075/article/details/51707437">唯一可译码判决准则-csdn</a></li>
</ol>
<hr>
<p>更新历史：</p>
<ul>
<li>2018.6.24 完成初稿</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>【Android】香农APP</p><p><a href="https://hugsy.top/2018/06/24/EE/android_shannon/">https://hugsy.top/2018/06/24/EE/android_shannon/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Hugsy</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2018-06-24</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-12-10</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/EE/">EE</a><a class="link-muted mr-2" rel="tag" href="/tags/Android/">Android</a><a class="link-muted mr-2" rel="tag" href="/tags/Java/">Java</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210410180700.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/20210410180901.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/02/27/EE/raspi/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">树莓派的基本配置方法</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/03/09/ML/deep_learning_11/"><span class="level-item">深度学习(11)：序列模型</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "510d4187afe6ccab90bf95274d3d755a",
            repo: "Picbed",
            owner: "Hugsy19",
            clientID: "a321e46c668dc3d86c4f",
            clientSecret: "0ff9e81865b09e7511ef7ef17bb9596834b8fd95",
            admin: ["Hugsy19"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: "last",
            proxy: "https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token",
            
            enableHotKey: true,
            language: "zh-CN",
        })
        gitalk.render('comment-container')</script></div></div></div><!--!--><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://raw.githubusercontent.com/Hugsy19/Picbed/master/img/logo.svg" alt="Cornfield Chase" height="28"></a><p class="is-size-7"><span>&copy; 2023 Hugsy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>